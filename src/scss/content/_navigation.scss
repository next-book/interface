.content {
  .idea,
  .chunk {
    scroll-snap-margin-top: 30vh;
    scroll-margin-top: 30vh;
  }

  .idea:target {
    scroll-snap-margin-top: 30vh;
    scroll-margin-top: 30vh;
    animation: highlight 3s ease-in-out;

    & + dd {
      animation: highlight 3s ease-in-out;
    }
  }

  .highlighted {
    animation: highlight 0.8s ease-in-out;
    will-change: background-color;
  }

  #chunk1:target,
  #chunk1.highlighted,
  #idea1:target,
  #idea1.highlighted {
    animation: none;
  }

  #chapter-end {
    position: relative;
    top: -30vh;
  }

  .begin-nav,
  .end-nav {
    padding: var(--base-padding) 0 10vh;

    ul,
    li {
      display: block;
      margin: 0;
      padding: 0;
      list-style-type: none;
    }

    a[rel='index'] {
      display: none;
    }

    a[rel='prev'],
    a[rel='next'] {
      display: block;
    }

    a[rel='next'] {
      padding-top: 5vh;
      padding-bottom: 5vh;
    }
  }
}

body.nb-paginated .content {
  .begin-nav,
  .end-nav {
    a[rel='prev'],
    a[rel='next'] {
      text-indent: -9999px;

      &:focus {
        text-indent: 0;
      }
    }
  }

  .end-nav {
    padding-bottom: 90vh;
  }
}

body.nb-paginated-back,
body.nb-paginated-forward {
  .content {
    overflow: hidden;

    .visible {
      animation: pagination-slide-in 0.3s;
    }
  }
}

body.nb-paginated-back {
  .content .visible {
    animation: pagination-slide-in-rev 0.3s;
  }
}

body.nb-paginated-button-back,
body.nb-paginated-button-forward {
  &::before,
  &::after {
    font-family: monospace;
    content: '>';

    display: block;
    overflow: hidden;
    opacity: 0.1;
    width: calc(24px + 5vw);
    padding: 0;
    z-index: map-get($z-indexes, 'pagination');

    position: fixed;
    top: 25vh;
    right: 0;
    height: 50vh;

    border: solid var(--ui-c-text-shade);
    border-width: 2px;
    color: var(--ui-c-text-shade);
    line-height: 60vh;
    font-size: 5vw;
    text-align: center;
    animation: pagination-bar-fade 0.2s ease-in-out;
    border-radius: 10px 0 0 10px;
  }

  &::after {
    content: '>';
    left: 0;
    right: auto;
    border-radius: 0 10px 10px 0;
  }
}

body.nb-paginated-button-back {
  &::before,
  &::after {
    top: 2vh;
    height: 18vh;
    line-height: 20vh;

    content: '<';
  }

  &::after {
    content: '<';
    left: 0;
    right: auto;
    border-radius: 0 10px 10px 0;
  }
}
